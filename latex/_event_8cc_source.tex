\hypertarget{_event_8cc_source}{}\doxysection{Event.\+cc}
\label{_event_8cc_source}\index{src/Event.cc@{src/Event.cc}}
\mbox{\hyperlink{_event_8cc}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_event_8hh}{Event.hh}}"{}}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00003}00003 \textcolor{preprocessor}{\#include <libpixie/event.hh>}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00004}00004 \textcolor{preprocessor}{\#include <libpixie/reader.hh>}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00006}00006 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_clarion_trinity}{ClarionTrinity}} \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00007}\mbox{\hyperlink{class_clarion_trinity_1_1_event_ac7554f6e6282fc1b58d221dd72c77f21}{00007}}   \textcolor{keyword}{const} PIXIE::Event\& \mbox{\hyperlink{class_clarion_trinity_1_1_event_ac7554f6e6282fc1b58d221dd72c77f21}{Event::Set}}(\textcolor{keyword}{const} PIXIE::Reader \&reader, \textcolor{keywordtype}{int} eventInd) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00008}00008     \textcolor{keyword}{const} PIXIE::Event \&e = reader.events[eventInd];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00009}00009     \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}} = 0;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00010}00010     \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}} = 0;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00011}00011     \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a8f4ae5c2b2b3794c44210efb0ec4788d}{nHits}} = 0;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00012}00012     }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00013}00013     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<e.nMeas; ++i) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00014}00014       \textcolor{keyword}{const} PIXIE::Measurement \&meas = reader.measurements[e.fMeasurements[i]];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00016}00016       \textcolor{comment}{// TRINITY PROCESSING //}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00018}00018 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00019}00019       \textcolor{comment}{//for each measurement, check if it's part of Trinity}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00020}00020       \textcolor{keywordtype}{int} GaggID = \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a0f17347ac111807f29b1b8e2d032e3ef}{GaggIDMap}}[meas.crateID][meas.slotID][meas.channelNumber];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00021}00021       \textcolor{keywordtype}{int} Sensor = \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a7091acef6941879396d1ff6cd3bfe9e3}{GaggSensorMap}}[meas.crateID][meas.slotID][meas.channelNumber];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00022}00022       }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00023}00023       \textcolor{keywordflow}{if} (GaggID != -\/1) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00024}00024         \textcolor{keywordtype}{int} exists = 0;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00025}00025         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}; ++j) \{ \textcolor{comment}{//iterate through existing GAGG objects}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00026}00026           \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a4a6f06d0f57eaacac0c7cc3903318946}{GaggID}} == GaggID) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00027}00027             \textcolor{keywordflow}{if} (Sensor == 1) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00028}00028               \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a47a4025e30e7beaa6038f2a64caab68d}{Set1}}(meas, \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00029}00029           \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a711d8a528e43828188102138f3bac0ac}{iMeas1}} = i;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00030}00030               exists = 1;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00031}00031               \textcolor{keywordflow}{break}; \textcolor{comment}{//found it}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00032}00032             \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00033}00033             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Sensor == 2) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00034}00034               \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_ab658d52a95a519cd3ac8b65631ad0666}{Set2}}(meas, \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00035}00035           \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_acf2a686e435e2d11060758815d9927e2}{iMeas2}} = i;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00036}00036               exists = 1;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00037}00037               \textcolor{keywordflow}{break}; \textcolor{comment}{//found it}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00038}00038             \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00039}00039           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00040}00040         \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00041}00041         \textcolor{keywordflow}{if} (exists == 0) \{ \textcolor{comment}{//make new}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00042}00042           \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}} == \mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}) \{ std::cout << \textcolor{stringliteral}{"{}WARNING, too many GaGG crystals in a single event, increase MAX\_GAGG\_CRYSTALS?"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00043}00043             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00044}00044           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00045}00045           \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a146068e3288a7b2a52c15b39163949bf}{Reset}}(GaggID);}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00046}00046           ++\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}};}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00047}00047           \textcolor{keywordflow}{if} (Sensor == 1) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00048}00048             \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a47a4025e30e7beaa6038f2a64caab68d}{Set1}}(meas, \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00049}00049         \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a711d8a528e43828188102138f3bac0ac}{iMeas1}} = i;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00050}00050           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00051}00051           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Sensor == 2) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00052}00052             \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_ab658d52a95a519cd3ac8b65631ad0666}{Set2}}(meas, \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00053}00053         \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_acf2a686e435e2d11060758815d9927e2}{iMeas2}} = i;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00054}00054           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00055}00055         \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00056}00056       \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00059}00059       \textcolor{comment}{// CLARION PROCESSING //}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00061}00061 \textcolor{comment}{}      \textcolor{comment}{//for each measurement, check if it's part of Clover}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00062}00062       \textcolor{keywordtype}{int} cloverID = \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a953e30c44b912bffa17c77f1d30472e1}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_conf_a7909f54089c2b48dc2d270ae86de1fd2}{CloverIDMap}}[meas.crateID][meas.slotID][meas.channelNumber];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00063}00063       \textcolor{keywordtype}{int} crystal = \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a953e30c44b912bffa17c77f1d30472e1}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_conf_a6a2f49f926889e17dd925b052b5c34d5}{CrystalMap}}[meas.crateID][meas.slotID][meas.channelNumber];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00064}00064       \textcolor{keywordflow}{if} (cloverID != -\/1) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00065}00065         \textcolor{keywordtype}{int} exists = 0;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00066}00066         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0; k<\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}}; ++k) \{ \textcolor{comment}{//iterate through existing Clovers}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00067}00067           \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[k].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_af38181501c56ac727350125cc3a795e4}{CloverID}} == cloverID) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00068}00068             \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[k].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_ac1ef494250a7a1e2b7a3ad4ee3c7e13b}{AddHit}}(meas, crystal, \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a953e30c44b912bffa17c77f1d30472e1}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00069}00069             \textcolor{keywordflow}{if} (crystal <= 3) \{ \textcolor{comment}{//only for crystals, no side channels or bgos}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00070}00070               \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a6cf5301ed2fd82fd9ee3494383c30bc9}{hits}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a8f4ae5c2b2b3794c44210efb0ec4788d}{nHits}}] = \&\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[k].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_aacf73a3248488084f37a22b74ceeef07}{hits}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[k].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_a0216f6e2d941d3aa1aecfc7e48acd469}{nHits}}-\/1];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00071}00071               \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a8f4ae5c2b2b3794c44210efb0ec4788d}{nHits}} += 1;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00072}00072             \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00074}00074             exists = 1;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00075}00075             \textcolor{keywordflow}{break}; \textcolor{comment}{//found it}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00076}00076           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00077}00077         \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00078}00078         \textcolor{keywordflow}{if} (exists == 0) \{ \textcolor{comment}{//make new}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00079}00079           \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}} == \mbox{\hyperlink{_definitions_8hh_a16d292a7f1b7d5db34673f0746f37920}{MAX\_CLOVERS}}) \{ std::cout << \textcolor{stringliteral}{"{}WARNING, too many Clovers in a single event, increase MAX\_CLOVERS?"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00080}00080             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00081}00081           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00082}00082           \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}}].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_af512d52113fa894294e550b81d839e8a}{Reset}}(cloverID);}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00083}00083           ++\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}};}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00084}00084           \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_ac1ef494250a7a1e2b7a3ad4ee3c7e13b}{AddHit}}(meas, crystal, \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a953e30c44b912bffa17c77f1d30472e1}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00085}00085           \textcolor{keywordflow}{if} (crystal <= 3) \{ \textcolor{comment}{//only for crystals, no side channels or bgos}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00086}00086             \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a6cf5301ed2fd82fd9ee3494383c30bc9}{hits}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a8f4ae5c2b2b3794c44210efb0ec4788d}{nHits}}] = \&\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_aacf73a3248488084f37a22b74ceeef07}{hits}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}}-\/1].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_a0216f6e2d941d3aa1aecfc7e48acd469}{nHits}}-\/1];}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00087}00087             \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a8f4ae5c2b2b3794c44210efb0ec4788d}{nHits}} += 1;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00088}00088           \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00089}00089         \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00090}00090       \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00091}00091     \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00092}00092     \textcolor{comment}{//measurements finished processing}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00093}00093 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00094}00094     }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00095}00095     \textcolor{comment}{//validate GAGGs with both SiPM fired}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00096}00096     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}}; ++j) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00097}00097       \mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g_a7ba07f3e790a1f041bed0e51d6fb782e}{Set}}(\mbox{\hyperlink{class_clarion_trinity_1_1_event_a172b834c203efe23df802f69a4ca5702}{trinity}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00098}00098       \textcolor{comment}{// if (trinity.parts[j].valid) \{}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00099}00099       \textcolor{comment}{//   trinity.valid\_parts[trinity.nValidParts].push\_back(trinity.parts[j]);}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00100}00100       \textcolor{comment}{// \}}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00101}00101     \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00103}00103     \textcolor{comment}{//Process Hits -\/> Gammas (addback) here}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00104}00104     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a902d3a8595ea8dac6b34f62c1b71f9e2}{nClovers}}; ++j) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00105}00105       \mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_a5d4cafdf67823a83ac32b23f7f20cee2}{MakeGammas}}(\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_a953e30c44b912bffa17c77f1d30472e1}{conf}});}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00106}00106       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_a0216f6e2d941d3aa1aecfc7e48acd469}{nHits}} == \mbox{\hyperlink{_definitions_8hh_a35cbe6ff6279f557840cb94f017e38cf}{MAX\_HITS\_PER\_CLOVER}}) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00107}00107         std::cout << \textcolor{stringliteral}{"{}Warning! More than "{}} << \mbox{\hyperlink{_definitions_8hh_a35cbe6ff6279f557840cb94f017e38cf}{MAX\_HITS\_PER\_CLOVER}} << \textcolor{stringliteral}{"{} hits in a single Clover"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00108}00108         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0; k<\mbox{\hyperlink{class_clarion_trinity_1_1_event_a6720d9c9e1c5b96299ef1e336d037796}{clarion}}.\mbox{\hyperlink{class_clarion_trinity_1_1_clarion_afe5fb595d088748d6ffbb40c9a23b98a}{clovers}}[j].\mbox{\hyperlink{class_clarion_trinity_1_1_clover_a0216f6e2d941d3aa1aecfc7e48acd469}{nHits}}; ++k) \{}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00109}00109           \textcolor{comment}{//clarion.clovers[j].hits[k].Print();}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00110}00110         \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00111}00111       \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00112}00112     \}}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00114}00114     \textcolor{keywordflow}{return} e;}
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00115}00115   \}  }
\DoxyCodeLine{\Hypertarget{_event_8cc_source_l00116}00116 \}}

\end{DoxyCode}
