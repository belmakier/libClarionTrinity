\hypertarget{_trinity_8hh_source}{}\doxysection{Trinity.\+hh}
\label{_trinity_8hh_source}\index{src/Trinity.hh@{src/Trinity.hh}}
\mbox{\hyperlink{_trinity_8hh}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CLARION\_TRINITY\_TRINITY\_HH}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CLARION\_TRINITY\_TRINITY\_HH}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_g_a_g_g_8hh}{GAGG.hh}}"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_definitions_8hh}{Definitions.hh}}"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_clarion_trinity}{ClarionTrinity}} \{}
\DoxyCodeLine{8   \textcolor{keyword}{enum class} \mbox{\hyperlink{namespace_clarion_trinity_a7c83a444c39e936ce54e3c5629211e46}{PIDType}} \{}
\DoxyCodeLine{9     \mbox{\hyperlink{namespace_clarion_trinity_a7c83a444c39e936ce54e3c5629211e46afa21506cd249f400de4a974b5a0c8e0e}{kTrace}},}
\DoxyCodeLine{10     \mbox{\hyperlink{namespace_clarion_trinity_a7c83a444c39e936ce54e3c5629211e46a46e32470178842b7a6a9e5e63c7c2219}{kQDC}}}
\DoxyCodeLine{11   \};}
\DoxyCodeLine{12 }
\DoxyCodeLine{13   \textcolor{keyword}{enum class} \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1}{Window}} \{}
\DoxyCodeLine{14     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1a75875d8f396064e1c6372f35ca85e6cb}{kEnergy}},}
\DoxyCodeLine{15     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1aa2d86d95b9f6fc114ea83102b1d7f7a8}{kPeak}},}
\DoxyCodeLine{16     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1aa416286e40d212a7a7593eaeac925b04}{kTail}},}
\DoxyCodeLine{17     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1a7c58afb43537a264dcd68e698a7b8e3b}{kBackground}},}
\DoxyCodeLine{18     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1a799590dc1fda632eb45117e7e24ccd28}{kPostBackground}},}
\DoxyCodeLine{19     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1a341b8a8f03cf33821c46aa5c3aad4b7a}{kOther}}}
\DoxyCodeLine{20   \};}
\DoxyCodeLine{21   }
\DoxyCodeLine{22   \textcolor{keyword}{class }\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf}{TrinityConf}} \{}
\DoxyCodeLine{23   \textcolor{keyword}{public}: }
\DoxyCodeLine{24     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a1048098f9f5aaf4f14f0bfbd87e9ca14}{nCrystals}}; \textcolor{comment}{//number of crystals}}
\DoxyCodeLine{25     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_adf3423c3aa296accf27d2682fad5893f}{GaggID}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}]; \textcolor{comment}{//don't know how big this should be: crystal ID's}}
\DoxyCodeLine{26     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a117e4290fcc7007f4ad412643e0416ae}{Cr1}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}]; \textcolor{comment}{//crate IDs}}
\DoxyCodeLine{27     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a96f74a133671dc694d7dab594e9767f0}{Cr2}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}];}
\DoxyCodeLine{28     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a29f0630002a8e75524226a234a7c0808}{Sl1}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}]; \textcolor{comment}{//slot IDs}}
\DoxyCodeLine{29     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a87ae6bf8e66187fb2656774695b61797}{Sl2}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}];}
\DoxyCodeLine{30     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_ab11c45331aecc87cde2ac4cc601193a5}{Ch1}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}]; \textcolor{comment}{//PIXIE channel IDs}}
\DoxyCodeLine{31     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_afbba7ebcbb96e91da2042bf0ee4bb557}{Ch2}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}];}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a0f17347ac111807f29b1b8e2d032e3ef}{GaggIDMap}}[\mbox{\hyperlink{_definitions_8hh_adec67c1f284e23b6ea07228f98950509}{CT\_MAX\_CRATES}}][\mbox{\hyperlink{_definitions_8hh_a429274a2f511d243e784c80e797c320d}{CT\_MAX\_SLOTS\_PER\_CRATE}}][\mbox{\hyperlink{_definitions_8hh_abea2635728b4dc3fda3464e86797055e}{CT\_MAX\_CHANNELS\_PER\_BOARD}}];}
\DoxyCodeLine{34     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a7091acef6941879396d1ff6cd3bfe9e3}{GaggSensorMap}}[\mbox{\hyperlink{_definitions_8hh_adec67c1f284e23b6ea07228f98950509}{CT\_MAX\_CRATES}}][\mbox{\hyperlink{_definitions_8hh_a429274a2f511d243e784c80e797c320d}{CT\_MAX\_SLOTS\_PER\_CRATE}}][\mbox{\hyperlink{_definitions_8hh_abea2635728b4dc3fda3464e86797055e}{CT\_MAX\_CHANNELS\_PER\_BOARD}}];    }
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a0ad7f8a2ede944bcfb009bea120b900f}{gain}}[\mbox{\hyperlink{_definitions_8hh_af2033d3fa60b992e36c8241c55cd9d59}{MAX\_GAGG\_ID}}]; \textcolor{comment}{//this is indexed by GaggID}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a726f248f1c4bbddba6e4529fb3a8ff1f}{theta}}[\mbox{\hyperlink{_definitions_8hh_af2033d3fa60b992e36c8241c55cd9d59}{MAX\_GAGG\_ID}}];}
\DoxyCodeLine{39     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_af84dc5c8a0b5ef1e68832707b46b6b95}{phi}}[\mbox{\hyperlink{_definitions_8hh_af2033d3fa60b992e36c8241c55cd9d59}{MAX\_GAGG\_ID}}];}
\DoxyCodeLine{40     }
\DoxyCodeLine{41     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a382c4d11c9fc4a885851fdc15e35855e}{energySimilarity}};}
\DoxyCodeLine{42     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a523ff26ba1e83b4c7e879a1b5751553a}{peakSimilarity}};}
\DoxyCodeLine{43     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_aba1063e222642321a7003e24596a3877}{tailSimilarity}};}
\DoxyCodeLine{44     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_ac99675332e940b2d5c47ecb26e2145b6}{backConsistency}};}
\DoxyCodeLine{45     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a6f37d2092f8636efe144f683a718aad0}{rejectPU}};}
\DoxyCodeLine{46     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a2a2e2508450d0be1a38fa2f21ff59c01}{rejectOOR}};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \mbox{\hyperlink{namespace_clarion_trinity_a7c83a444c39e936ce54e3c5629211e46}{PIDType}} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a6948422a9d062877c244355e6f64489e}{pidType}}[\mbox{\hyperlink{_definitions_8hh_af2033d3fa60b992e36c8241c55cd9d59}{MAX\_GAGG\_ID}}];}
\DoxyCodeLine{49     \textcolor{comment}{//QDC parameters}}
\DoxyCodeLine{50     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_afbe21c9892937e61e7e7c36ce79659e0}{QDCWidth}}[8];}
\DoxyCodeLine{51     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a8c19845477b64920d40d59c1918aebbe}{peakWidth}};}
\DoxyCodeLine{52     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a1c23d4a92d6e95c1fb691f0aa5300b79}{tailWidth}};}
\DoxyCodeLine{53     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a49172cdf74c371014060bf0158931598}{energyWidth}};}
\DoxyCodeLine{54     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a66371799a27172a0b047450633727b9b}{backWidth}};    }
\DoxyCodeLine{55     \mbox{\hyperlink{namespace_clarion_trinity_a5c8af5339e341db2321e8434de631fb1}{Window}} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a0ba1dbe6ecdcf1e60875fbb838ec12ce}{QDCType}}[8];}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_aede0eee823dc012dc0b33a559f506e4e}{TrinityConf}}() : \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a382c4d11c9fc4a885851fdc15e35855e}{energySimilarity}}(1e6), \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a523ff26ba1e83b4c7e879a1b5751553a}{peakSimilarity}}(1e6), \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_aba1063e222642321a7003e24596a3877}{tailSimilarity}}(1e6), \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_ac99675332e940b2d5c47ecb26e2145b6}{backConsistency}}(1e6) \{\}}
\DoxyCodeLine{58     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_aede0eee823dc012dc0b33a559f506e4e}{TrinityConf}}(std::string conffile);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_ae2b64de3eb336dff159494e243c9beab}{ReadAngleMap}}(std::string mapfile);}
\DoxyCodeLine{61     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a7f3694c6d07e21172bd24943de5c8346}{ReadQDCParams}}(std::string paramfile);}
\DoxyCodeLine{62     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a42a4de5cd586867518b4107329dd55df}{SetPIDType}}(\mbox{\hyperlink{namespace_clarion_trinity_a7c83a444c39e936ce54e3c5629211e46}{PIDType}} type) \{ \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\mbox{\hyperlink{_definitions_8hh_af2033d3fa60b992e36c8241c55cd9d59}{MAX\_GAGG\_ID}}; ++i) \{\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a6948422a9d062877c244355e6f64489e}{pidType}}[i] = type; \} \}}
\DoxyCodeLine{63     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a5a02e73ee7f2fedf45fe7e79e03358fb}{SetPIDType}}(\mbox{\hyperlink{namespace_clarion_trinity_a7c83a444c39e936ce54e3c5629211e46}{PIDType}} type, \textcolor{keywordtype}{int} ID) \{ \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a6948422a9d062877c244355e6f64489e}{pidType}}[ID] = type; \}}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a64facbc15384d83ee69bb7933cb078cf}{Print}}();}
\DoxyCodeLine{66   \};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68   \textcolor{keyword}{class }\mbox{\hyperlink{class_clarion_trinity_1_1_trinity}{Trinity}} \{}
\DoxyCodeLine{69   \textcolor{keyword}{public}: }
\DoxyCodeLine{70     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf}{TrinityConf}} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}};}
\DoxyCodeLine{71     \mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g}{GAGG}} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ac98ddae6b5d4b229f59fece3e6136c5c}{parts}}[\mbox{\hyperlink{_definitions_8hh_a475b713ef9152701a2e860ed0ab9a791}{MAX\_GAGG\_CRYSTALS}}];}
\DoxyCodeLine{72     \textcolor{comment}{//GAGG valid\_parts[MAX\_GAGG\_CRYSTALS];}}
\DoxyCodeLine{73     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_ab9394c75eab78165536e44cf083a2a69}{nParts}};}
\DoxyCodeLine{74     \textcolor{comment}{//int nValidParts;}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_abc2ef5235552e9d7d4dce6343b066743}{Trinity}}() \{\};}
\DoxyCodeLine{77     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aee52d8e4815c3c7e2fadb21d6e116c34}{Trinity}}(std::string conffile) : \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}}(conffile) \{ \};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeccce78841f39b55714fc9cf07937719}{ReadAngleMap}}(std::string mapfile) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_ae2b64de3eb336dff159494e243c9beab}{ReadAngleMap}}(mapfile); \}}
\DoxyCodeLine{80     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_a2bb01b337bb55d1ffd2657e6c6164083}{ReadQDCParams}}(std::string paramfile) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a7f3694c6d07e21172bd24943de5c8346}{ReadQDCParams}}(paramfile); \}}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_a59ceef1264af2ece3f07846ea8aba876}{PrintConf}}() \{ \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_aeb4eac5ae101e8649bd70a01b86b3b7d}{conf}}.\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf_a64facbc15384d83ee69bb7933cb078cf}{Print}}(); \}}
\DoxyCodeLine{82   \};}
\DoxyCodeLine{83 \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
