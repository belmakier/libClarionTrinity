\hypertarget{_trinity_8hh_source}{}\doxysection{Trinity.\+hh}
\label{_trinity_8hh_source}\index{src/Trinity.hh@{src/Trinity.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CLARION\_TRINITY\_TRINITY\_HH}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CLARION\_TRINITY\_TRINITY\_HH}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}GAGG.hh"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}Definitions.hh"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{namespace }ClarionTrinity \{}
\DoxyCodeLine{8   \textcolor{keyword}{enum class} PIDType \{}
\DoxyCodeLine{9     kTrace,}
\DoxyCodeLine{10     kQDC}
\DoxyCodeLine{11   \};}
\DoxyCodeLine{12 }
\DoxyCodeLine{13   \textcolor{keyword}{enum class} Window \{}
\DoxyCodeLine{14     kEnergy,}
\DoxyCodeLine{15     kPeak,}
\DoxyCodeLine{16     kTail,}
\DoxyCodeLine{17     kBackground,}
\DoxyCodeLine{18     kPostBackground,}
\DoxyCodeLine{19     kOther}
\DoxyCodeLine{20   \};}
\DoxyCodeLine{21   }
\DoxyCodeLine{22   \textcolor{keyword}{class }\mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf}{TrinityConf}} \{}
\DoxyCodeLine{23   \textcolor{keyword}{public}: }
\DoxyCodeLine{24     \textcolor{keywordtype}{int} nCrystals; \textcolor{comment}{//number of crystals}}
\DoxyCodeLine{25     \textcolor{keywordtype}{int} GaggID[MAX\_GAGG\_CRYSTALS]; \textcolor{comment}{//don't know how big this should be: crystal ID's}}
\DoxyCodeLine{26     \textcolor{keywordtype}{int} Cr1[MAX\_GAGG\_CRYSTALS]; \textcolor{comment}{//crate IDs}}
\DoxyCodeLine{27     \textcolor{keywordtype}{int} Cr2[MAX\_GAGG\_CRYSTALS];}
\DoxyCodeLine{28     \textcolor{keywordtype}{int} Sl1[MAX\_GAGG\_CRYSTALS]; \textcolor{comment}{//slot IDs}}
\DoxyCodeLine{29     \textcolor{keywordtype}{int} Sl2[MAX\_GAGG\_CRYSTALS];}
\DoxyCodeLine{30     \textcolor{keywordtype}{int} Ch1[MAX\_GAGG\_CRYSTALS]; \textcolor{comment}{//PIXIE channel IDs}}
\DoxyCodeLine{31     \textcolor{keywordtype}{int} Ch2[MAX\_GAGG\_CRYSTALS];}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keywordtype}{int} GaggIDMap[CT\_MAX\_CRATES][CT\_MAX\_SLOTS\_PER\_CRATE][CT\_MAX\_CHANNELS\_PER\_BOARD];}
\DoxyCodeLine{34     \textcolor{keywordtype}{int} GaggSensorMap[CT\_MAX\_CRATES][CT\_MAX\_SLOTS\_PER\_CRATE][CT\_MAX\_CHANNELS\_PER\_BOARD];    }
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keywordtype}{float} gain[MAX\_GAGG\_ID]; \textcolor{comment}{//this is indexed by GaggID}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{keywordtype}{float} theta[MAX\_GAGG\_ID];}
\DoxyCodeLine{39     \textcolor{keywordtype}{float} phi[MAX\_GAGG\_ID];}
\DoxyCodeLine{40     }
\DoxyCodeLine{41     \textcolor{keywordtype}{float} energySimilarity;}
\DoxyCodeLine{42     \textcolor{keywordtype}{float} peakSimilarity;}
\DoxyCodeLine{43     \textcolor{keywordtype}{float} tailSimilarity;}
\DoxyCodeLine{44     \textcolor{keywordtype}{float} backConsistency;}
\DoxyCodeLine{45     \textcolor{keywordtype}{bool} rejectPU;}
\DoxyCodeLine{46     \textcolor{keywordtype}{bool} rejectOOR;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     PIDType pidType[MAX\_GAGG\_ID];}
\DoxyCodeLine{49     \textcolor{comment}{//QDC parameters}}
\DoxyCodeLine{50     \textcolor{keywordtype}{float} QDCWidth[8];}
\DoxyCodeLine{51     \textcolor{keywordtype}{float} peakWidth;}
\DoxyCodeLine{52     \textcolor{keywordtype}{float} tailWidth;}
\DoxyCodeLine{53     \textcolor{keywordtype}{float} energyWidth;}
\DoxyCodeLine{54     \textcolor{keywordtype}{float} backWidth;    }
\DoxyCodeLine{55     Window QDCType[8];}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf}{TrinityConf}}() : energySimilarity(1e6), peakSimilarity(1e6), tailSimilarity(1e6), backConsistency(1e6) \{\}}
\DoxyCodeLine{58     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf}{TrinityConf}}(std::string conffile);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keywordtype}{int} ReadAngleMap(std::string mapfile);}
\DoxyCodeLine{61     \textcolor{keywordtype}{int} ReadQDCParams(std::string paramfile);}
\DoxyCodeLine{62     \textcolor{keywordtype}{void} SetPIDType(PIDType type) \{ \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<MAX\_GAGG\_ID; ++i) \{pidType[i] = type; \} \}}
\DoxyCodeLine{63     \textcolor{keywordtype}{void} SetPIDType(PIDType type, \textcolor{keywordtype}{int} ID) \{ pidType[ID] = type; \}}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{keywordtype}{void} Print();}
\DoxyCodeLine{66   \};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68   \textcolor{keyword}{class }\mbox{\hyperlink{class_clarion_trinity_1_1_trinity}{Trinity}} \{}
\DoxyCodeLine{69   \textcolor{keyword}{public}: }
\DoxyCodeLine{70     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity_conf}{TrinityConf}} conf;}
\DoxyCodeLine{71     \mbox{\hyperlink{class_clarion_trinity_1_1_g_a_g_g}{GAGG}} parts[MAX\_GAGG\_CRYSTALS];}
\DoxyCodeLine{72     \textcolor{comment}{//GAGG valid\_parts[MAX\_GAGG\_CRYSTALS];}}
\DoxyCodeLine{73     \textcolor{keywordtype}{int} nParts;}
\DoxyCodeLine{74     \textcolor{comment}{//int nValidParts;}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity}{Trinity}}() \{\};}
\DoxyCodeLine{77     \mbox{\hyperlink{class_clarion_trinity_1_1_trinity}{Trinity}}(std::string conffile) : conf(conffile) \{ \};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordtype}{int} ReadAngleMap(std::string mapfile) \{ \textcolor{keywordflow}{return} conf.ReadAngleMap(mapfile); \}}
\DoxyCodeLine{80     \textcolor{keywordtype}{int} ReadQDCParams(std::string paramfile) \{ \textcolor{keywordflow}{return} conf.ReadQDCParams(paramfile); \}}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} PrintConf() \{ conf.Print(); \}}
\DoxyCodeLine{82   \};}
\DoxyCodeLine{83 \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
